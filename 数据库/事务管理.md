## 数据库的u事务管理
事务管理是多条语句放在一起执行，有两种可能：成功数据修改；失败数据没有被修改。加入是一个转账的的操作，从账户中取出1000元，然后转到B账户。成功A账户-1000元，B账户+1000元，失败都未改变。
### 1. 数据库的事务管理的4大特性
数据库的事务管理有严格的定义，它同时要满足四个特性：原子性(Atomic)、一致性(Consistency)、隔离性(Isolation)和持久性（Durabiliy），简称ACID。
+ 原子性：表示组成一个事务的斗哥数据库操作是一个不可分割的原子，只有所有的操作执行成功，整个事物才提交。事物中的任何一个数据库操作失败，已经执行的任何操作都会被撤销，让数据库回到之前的状态。
+ 一致性：事物操作成功后，数据库所处的状态和它的业务规则是一致的，即数据不会被破坏。
+ 隔离性：在并发数据操作时，不同的事务拥有各自的数据空间，它们的操作不会对对方产生干扰。准确的来说，并非要做到完全无干扰，数据库规定了多种隔离级别，不同的隔离级别对应不同的干扰程度，**隔离级别越高，数据一致性越好，但并发行越弱**。
+ 持久性：一旦事务提交成功，事务中的所有数据操作都会被持久化到数据库中。
**Java程序采用对象锁机制进行线程同步，数据库管理系统采用数据库锁机制保证事务的隔离性。
### 2. 数据并发的问题
####1. 脏读
脏读是A事务使用了B事务未提交的数据。
### 2. 不可重复读
不可重复读是指A事务前后两次查询的中间，B事务修改了A事务中的数据，导致A事务前后两次查询不一样。
### 3. 幻读
幻读是指A事务前后统计结果中间，B事务又提交了一个数据（这行数据被成为幻行），导致A事务前后统计不一样
### 4. 第一类丢失更新
A事务撤销时把B事务提交的数据覆盖了
### 5. 第二类丢失更新
A事务提交后把B事务的的提交覆盖了.
